{"version":3,"sources":["redux/actions/actionTypes.js","setAuthToken.js","redux/reducers/rootReducer.js","redux/store.js","redux/actions/authAction.js","components/login.js","components/register.js","components/landing_page.js","components/dashboard.js","components/protectedRoute.js","components/layout.js","App.js","reportWebVitals.js","index.js"],"names":["GET_ERRORS","SET_CURRENT_USER","setAuthToken","token","axios","defaults","headers","common","console","log","initialState","authDetails","isAuthenticated","user","errors","rootReducer","state","action","type","isEmpty","payload","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","logoutUser","dispatch","localStorage","removeItem","clearErrors","Login","props","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","userData","email","password","loginUser","this","history","push","prevProps","checkClass","classnames","isUndefined","passwordincorrect","emailnotfound","className","to","style","height","tokenExpired","marginInlineStart","onSubmit","htmlFor","position","color","placeholder","autoComplete","autoFocus","onChange","Component","connect","param","post","then","res","data","setItem","get","catch","err","response","Register","newUser","password2","registerUser","loginbtn","displayMsg","ownProps","LandingPage","Dashboard","handleLogout","handleNextReq","onClick","component","rest","render","jwtToken","decoded","jwt_decode","exp","Math","round","Date","now","keepUserLoggedIn","Layout","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dde5da37.chunk.js","sourcesContent":["//actionTypes maintain single place from where we can change\n// our action types later if we wish to do so\n\nconst GET_ERRORS = \"GET_ERRORS\";\nconst SET_CURRENT_USER = \"SET_CURRENT_USER\";\n\nexport { GET_ERRORS, SET_CURRENT_USER };\n","//for attaching jwt token to every req when logged in and deleting if logged out.\nimport axios from \"axios\";\n\nconst setAuthToken = (token) => {\n  if (token) {\n    // Apply authorization token to every request if logged in\n    axios.defaults.headers.common[\"Authorization\"] = token;\n    console.log(\"axios headers\", axios.defaults.headers);\n  } else {\n    // Delete auth header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setAuthToken;\n","import { GET_ERRORS, SET_CURRENT_USER } from \"../actions/actionTypes\";\nimport { isEmpty } from \"lodash-es\";\n\nconst initialState = {\n  authDetails: { isAuthenticated: false, user: {} },\n  errors: {},\n};\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        //agar payload empty hua yani empty user aaya to isAuth false\n        authDetails: {\n          isAuthenticated: !isEmpty(action.payload),\n          user: action.payload,\n        },\n      };\n    case GET_ERRORS:\n      return {\n        ...state,\n        errors: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport rootReducer from \"./reducers/rootReducer\";\n\n//for setting up redux devtools chrome extension (1.2 w/o npm)\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;\n","//In this module we will be sending axios req to our backend routes\nimport axios from \"axios\";\nimport { SET_CURRENT_USER, GET_ERRORS } from \"./actionTypes\";\nimport setAuthToken from \"../../setAuthToken\";\nimport jwt_decode from \"jwt-decode\";\nimport store from \"../store\";\n\n//Register user axios req\nconst registerUser = (userData, history) => {\n  //here thunk comes into play..ideally we could have only returned an action\n  //from this actionCreator but with thunk we can return another function\n  //which can handle async programming & further dispatch an action\n  return function (dispatch) {\n    axios\n      .post(\"/api/users/register\", userData)\n      //re-direct to login on successful register\n      .then((res) => {\n        console.log(\"register -> then res:\", res);\n        history.push(\"/login\");\n      })\n      .catch((err) => {\n        //err.response.data returns the error obj that we created in validations\n        //standard way to catch axios errors (refer to axios docs)\n        console.log(\n          \"err.response.data in registerUser(authActions.js)\",\n          err.response.data\n        );\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data,\n        });\n      });\n  };\n};\n\n// Login - get user token\nconst loginUser = (userData, history) => {\n  return function (dispatch) {\n    axios\n      .post(\"/api/users/login\", userData)\n      //\n      .then((res) => {\n        console.log(\"res.data from loginUser\", res.data);\n\n        //save token to localstorage\n        const { token } = res.data;\n        localStorage.setItem(\"jwtToken\", token);\n\n        // Set token to Auth header with each req\n        setAuthToken(token);\n\n        //axios req to dashboard\n        axios\n          .get(\"/dashboard\")\n          .then((res) => {\n            //set current user in reducer\n            console.log(res);\n\n            //return an action and further redirect using Redirect or\n            //history.push from ComponentDidUpdate which checks global state\n            dispatch({\n              type: SET_CURRENT_USER,\n              payload: res.data.user,\n            });\n          })\n          .catch((err) => console.log(err));\n      })\n      .catch((err) => {\n        dispatch({\n          type: GET_ERRORS,\n          payload: err.response.data,\n        });\n      });\n  };\n};\n\n//Logging user out\nconst logoutUser = () => {\n  return function (dispatch) {\n    //Remove token from localstorage\n    localStorage.removeItem(\"jwtToken\");\n\n    // Remove auth header for future requests\n    setAuthToken(false);\n\n    // Set current user to empty object which will set isAuthenticated to false\n    dispatch({\n      type: SET_CURRENT_USER,\n      payload: {},\n    });\n\n    //redirect to '/login'\n    // history.push(\"/login\");\n  };\n};\n\n//Check for token to keep user logged in even after refresh\nconst keepUserLoggedIn = () => {\n  if (localStorage.jwtToken) {\n    const token = localStorage.jwtToken;\n    // Set token to Auth header with each req\n    setAuthToken(token);\n\n    // Decode token to get user data\n    const decoded = jwt_decode(token);\n    console.log(decoded.exp, Math.round(Date.now() / 1000));\n\n    //check if the user is already logged in\n    axios\n      .get(\"/dashboard\")\n      .then((res) => {\n        console.log(\"then res from keepUserLoggedIn\", res);\n\n        //keep user set as current user in reducer\n\n        //** here we need store.dispatch bcz in other actions we were\n        //binding components with mapDispatchToProps\n        //but here we need to call this action before component Layout renders **\n\n        store.dispatch({\n          type: SET_CURRENT_USER,\n          payload: res.data.user,\n        });\n      })\n      .catch((err) => {\n        console.log(\"catch err in keepUserLoggedIn\", err);\n\n        //passport automatically checks for token expiry\n        //we just need to remove it from localstorage\n        console.log(\"token expired\");\n        store.dispatch(logoutUser());\n\n        //send error as token expired\n        store.dispatch({\n          type: GET_ERRORS,\n          payload: {\n            tokenExpired: \"Token Expired or Invalid. Please Login again\",\n          },\n        });\n      });\n  }\n};\n\nconst clearErrors = () => {\n  return function (dispatch) {\n    // clear the errors object from store if login is successful\n    dispatch({\n      type: GET_ERRORS,\n      payload: {},\n    });\n  };\n};\n\nexport { registerUser, loginUser, logoutUser, keepUserLoggedIn, clearErrors };\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { clearErrors, loginUser } from \"../redux/actions/authAction\";\nimport \"./styles.css\";\nimport { isUndefined } from \"lodash\";\nimport classnames from \"classnames\";\nimport { FaArrowLeft, FaSignInAlt, FaEnvelope, FaKey } from \"react-icons/fa\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n    };\n  }\n\n  componentDidMount() {\n    // If already logged in and user navigates to login page\n    //redirect to dashboard\n    if (this.props.authDetails.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  //To clear the global state errors\n  //while redirecting b/w components\n  componentWillUnmount() {\n    console.log(\"login comp unmounted: errors will be cleared now\");\n    this.props.clearErrors();\n  }\n\n  componentDidUpdate(prevProps) {\n    //runs every time the component props update except for initial rendering\n    //receives the prevProps\n    if (this.props.authDetails.isAuthenticated) {\n      console.log(\"pushed to dash\");\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const userData = {\n      email: this.state.email,\n      password: this.state.password,\n    };\n\n    //call loginUser from authActions\n    this.props.loginUser({ userData });\n  };\n\n  render() {\n    const checkClass = {\n      email: classnames(\n        isUndefined(this.props.errors.email)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      password: classnames(\n        isUndefined(this.props.errors.password)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      passwordincorrect: classnames(\n        isUndefined(this.props.errors.passwordincorrect)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      emailnotfound: classnames(\n        isUndefined(this.props.errors.emailnotfound)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n    };\n    return (\n      <div className=\"content-box\">\n        <Link to=\"/\">\n          <h3 className=\"redirect-btn home\">\n            <FaArrowLeft style={{ height: \"0.7em\" }} />\n            Back to Home\n          </h3>\n        </Link>\n        {/* session expired error msg */}\n        {!isUndefined(this.props.errors.tokenExpired) && (\n          <div className=\"error-msg\">*{this.props.errors.tokenExpired}</div>\n        )}\n        <h1>\n          Log In\n          <FaSignInAlt style={{ marginInlineStart: \"20px\", height: \"0.8em\" }} />\n        </h1>\n        <form onSubmit={this.handleSubmit}>\n          {/* Email field */}\n          <label htmlFor=\"email\">Email:</label>\n          <br></br>\n          <FaEnvelope\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter your registered Email\"\n            autoComplete=\"on\"\n            autoFocus=\"on\"\n            className={checkClass.email}\n            onChange={this.handleChange}\n          />\n          {!isUndefined(this.props.errors.email) && (\n            <div className=\"error-msg\">*{this.props.errors.email}</div>\n          )}\n          {!isUndefined(this.props.errors.emailnotfound) && (\n            <div className=\"error-msg\">*{this.props.errors.emailnotfound}</div>\n          )}\n          <br></br>\n          {/* Password field */}\n          <label htmlFor=\"password\">Password:</label>\n          <br></br>\n          <FaKey\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            className={checkClass.password}\n            onChange={this.handleChange}\n          />\n          {!isUndefined(this.props.errors.password) && (\n            <div className=\"error-msg\">*{this.props.errors.password}</div>\n          )}\n          {!isUndefined(this.props.errors.passwordincorrect) && (\n            <div className=\"error-msg\">\n              *{this.props.errors.passwordincorrect}\n            </div>\n          )}\n          <br></br>\n          {/* Submit Button */}\n          <button type=\"submit\" className=\"login-button\">\n            Login\n          </button>\n          {/* Create New Account */}\n          <Link to=\"/register\">\n            <h3 className=\"redirect-btn\">Create New Account</h3>\n          </Link>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(\"state from login react comp\", state);\n  return {\n    authDetails: state.authDetails,\n    errors: state.errors,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    loginUser: (param) => {\n      dispatch(loginUser(param.userData));\n    },\n    clearErrors: () => {\n      dispatch(clearErrors());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { clearErrors, registerUser } from \"../redux/actions/authAction\";\nimport \"./styles.css\";\nimport { isUndefined } from \"lodash\";\nimport classnames from \"classnames\";\nimport {\n  FaArrowLeft,\n  FaEnvelope,\n  FaKey,\n  FaUserCircle,\n  FaUserPlus,\n} from \"react-icons/fa\";\n\nclass Register extends Component {\n  s;\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password2: \"\",\n    };\n  }\n\n  componentDidMount() {\n    // If already logged in and user navigates to register page\n    //redirect to dashboard\n    if (this.props.authDetails.isAuthenticated) {\n      this.props.history.push(\"/dashboard\");\n    }\n  }\n\n  //To clear the global state errors\n  //while redirecting b/w components\n  componentWillUnmount() {\n    this.props.clearErrors();\n  }\n\n  handleChange = (event) => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const newUser = {\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password2: this.state.password2,\n    };\n    //call registerUser from authActions\n    this.props.registerUser({ newUser: newUser });\n  };\n\n  render() {\n    const checkClass = {\n      name: classnames(\n        isUndefined(this.props.errors.name)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      email: classnames(\n        isUndefined(this.props.errors.email)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      password: classnames(\n        isUndefined(this.props.errors.password)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      password2: classnames(\n        isUndefined(this.props.errors.password2)\n          ? \"input-field\"\n          : \"input-field error\"\n      ),\n      loginbtn: classnames(\n        isUndefined(this.props.errors) ? \"login-button\" : \"login-button error\"\n      ),\n    };\n    return (\n      <div className=\"content-box\">\n        <Link to=\"/\">\n          <h3 className=\"redirect-btn home\">\n            <FaArrowLeft style={{ height: \"0.7em\" }} />\n            Back to Home\n          </h3>\n        </Link>\n        {!isUndefined(this.props.errors.displayMsg) && (\n          <div className=\"error-msg\">*{this.props.errors.displayMsg}</div>\n        )}\n        <h1 className=\"create-acc-heading\">\n          Create New Account\n          <FaUserPlus style={{ marginInlineStart: \"20px\", height: \"0.8em\" }} />\n        </h1>\n        <form onSubmit={this.handleSubmit}>\n          {/* Name field */}\n          <label htmlFor=\"name\">Name:</label>\n          <br></br>\n          <FaUserCircle\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            name=\"name\"\n            placeholder=\"Enter your name\"\n            autoComplete=\"on\"\n            autoFocus=\"on\"\n            className={checkClass.name}\n            onChange={this.handleChange}\n          />\n          {/* ternary opeators and function calls can be used \n          instead of if-else statements in render */}\n          {!isUndefined(this.props.errors.name) && (\n            <div className=\"error-msg\">*{this.props.errors.name}</div>\n          )}\n          <br></br>\n\n          {/* Email field */}\n          <label htmlFor=\"email\">Email:</label>\n          <br></br>\n          <FaEnvelope\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Enter your Email\"\n            autoComplete=\"on\"\n            className={checkClass.email}\n            onChange={this.handleChange}\n          />\n          {!isUndefined(this.props.errors.email) && (\n            <div className=\"error-msg\">*{this.props.errors.email}</div>\n          )}\n          <br></br>\n          {/* Password field */}\n          <label htmlFor=\"password\">Password:</label>\n          <br></br>\n          <FaKey\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Enter password\"\n            className={checkClass.password}\n            onChange={this.handleChange}\n          />\n          {!isUndefined(this.props.errors.password) && (\n            <div className=\"error-msg\">*{this.props.errors.password}</div>\n          )}\n          <br></br>\n          {/* Confirm Password field */}\n          <label htmlFor=\"password2\">Confirm Password:</label>\n          <br></br>\n          <FaKey\n            style={{ position: \"absolute\", height: \"5%\", color: \"grey\" }}\n          />\n          <input\n            type=\"password\"\n            name=\"password2\"\n            placeholder=\"Confirm Password\"\n            className={checkClass.password2}\n            onChange={this.handleChange}\n          />\n          {!isUndefined(this.props.errors.password2) && (\n            <div className=\"error-msg\">*{this.props.errors.password2}</div>\n          )}\n          <br></br>\n          {/* Submit Button */}\n          <button type=\"submit\" className={checkClass.loginbtn}>\n            Sign Up\n          </button>\n          {/* Already Registered */}\n          <Link to=\"/login\">\n            <h3 className=\"redirect-btn\">Already Registered?Login</h3>\n          </Link>\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  console.log(\"state\", state);\n  return {\n    authDetails: state.authDetails,\n    errors: state.errors,\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    registerUser: (param) => {\n      //here Register comp is wrapped in Route(layout.js)\n      // and therefore has direct access to the browser history\n      //no need of withRouter\n      //(refer: https://stackoverflow.com/questions/53539314/what-is-withrouter-for-in-react-router-dom)\n      dispatch(registerUser(param.newUser, ownProps.history));\n    },\n    clearErrors: () => {\n      dispatch(clearErrors());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./styles.css\";\n\nimport {\n  FaReact,\n  FaNodeJs,\n  FaGithub,\n  FaNpm,\n  FaHtml5,\n  FaCss3,\n} from \"react-icons/fa\";\nimport {\n  SiMongodb,\n  SiRedux,\n  SiAuth0,\n  SiPostman,\n  SiJavascript,\n} from \"react-icons/si\";\n\nclass LandingPage extends Component {\n  render() {\n    return (\n      <div className=\"content-box-landing\">\n        <h1>Welcome to Full Stack MERN Auth App</h1>\n        <h2 className=\"sub-heading\">Get Started</h2>\n        {/* Login Button */}\n        <Link to=\"/login\">\n          <button className=\"landing-button\">Login</button>\n        </Link>\n        {/* Signup Button */}\n        <Link to=\"/register\">\n          <button className=\"landing-button\">Register</button>\n        </Link>\n        <h1 className=\"sub-heading\">Tech Stack:</h1>\n        <div className=\"marquee-box\">\n          <ul className=\"marquee-content\">\n            <li>\n              <FaReact className=\"icons\" />\n            </li>\n            <li>\n              <FaNodeJs className=\"icons\" />\n            </li>\n            <li>\n              <SiMongodb className=\"icons\" />\n            </li>\n            <li>\n              <SiRedux className=\"icons\" />\n            </li>\n            <li>\n              <SiAuth0 className=\"icons\" />\n            </li>\n            <li>\n              <FaGithub className=\"icons\" />\n            </li>\n            <li>\n              <FaReact className=\"icons\" />\n            </li>\n            <li>\n              <SiPostman className=\"icons\" />\n            </li>\n\n            <li>\n              <FaHtml5 className=\"icons\" />\n            </li>\n            <li>\n              <FaCss3 className=\"icons\" />\n            </li>\n            <li>\n              <SiJavascript className=\"icons\" />\n            </li>\n            <li>\n              <FaNpm className=\"icons\" />\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LandingPage;\n","import React, { Component } from \"react\";\nimport { logoutUser } from \"../redux/actions/authAction\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Dashboard extends Component {\n  handleLogout = (event) => {\n    this.props.logoutUser();\n  };\n\n  handleNextReq = () => {\n    axios\n      .get(\"/api/users/login/1\")\n      .then((res) => console.log(res))\n      .catch((err) => console.log(\"err in handleNextReq dashabord\", err));\n  };\n\n  render() {\n    if (!this.props.isAuthenticated) {\n      //Redirect can only be used in render\n      //history.push can however be used in componentDidUpdate\n      return <Redirect to=\"/login\" />;\n    } else {\n      return (\n        <div className=\"dashboard-bkg\">\n          <h1>Welcome {this.props.name} </h1>\n          <h2>You have successfully logged in</h2>\n          <button onClick={this.handleLogout}>Logout</button>\n          <button onClick={this.handleNextReq}>\n            send further req to check auth header\n          </button>\n        </div>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.authDetails.isAuthenticated,\n    name: state.authDetails.user.name,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    logoutUser: () => {\n      dispatch(logoutUser());\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\n//We will create our own route : ProtectedRoute here\nconst ProtectedRoute = (props) => {\n  //extracting from props(obj destructuring)\n  let { component: Component, isAuthenticated, ...rest } = props;\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (isAuthenticated) {\n          return <Component {...props} />;\n        } else {\n          // props.history.push(\"/login\");\n          return <Redirect to=\"/login\" />;\n        }\n      }}\n    />\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.authDetails.isAuthenticated,\n  };\n};\n\nexport default connect(mapStateToProps)(ProtectedRoute);\n","import \"./styles.css\";\nimport Login from \"./login\";\nimport Register from \"./register\";\nimport LandingPage from \"./landing_page\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\n\nimport { Provider } from \"react-redux\";\nimport store from \"../redux/store\";\n\nimport Dashboard from \"./dashboard\";\nimport ProtectedRoute from \"./protectedRoute\";\n\nimport { keepUserLoggedIn } from \"../redux/actions/authAction\";\n//to keep user logged in even after refresh until he logs out or token expires\nkeepUserLoggedIn();\n\nfunction Layout() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <div className=\"flexbox-container\">\n          <div className=\"flexbox-item1\">\n            Flexbox Item1\n            <h1 className=\"cover-heading\">PASSPORT-JWT AUTHORIZATION</h1>\n          </div>\n          <div className=\"flexbox-item2\">\n            <div className=\"top-bar\">MERN Auth App</div>\n            <Route exact path=\"/\" component={LandingPage}></Route>\n            <Route exact path=\"/login\" component={Login}></Route>\n            <Route exact path=\"/register\" component={Register}></Route>\n            {/* <ProtectedRoute exact path=\"/dashboard\" component={Dashboard} /> */}\n            <Route exact path=\"/dashboard\" component={Dashboard}></Route>\n          </div>\n        </div>\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nexport default Layout;\n","import \"./App.css\";\nimport Layout from \"./components/layout\";\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <Layout />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}